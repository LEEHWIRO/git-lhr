--서브쿼리 3총사
--SCALAR SUBQUREY : SELECT절에 사용
--INLINE VIEW : FROM절에 사용
--NESTED SUBQUREY : WHERE절에 사용

SELECT A.PROD_ID  상품코드
     , A.PROD_NAME  상품명
     , A.PROD_BUYER  거래처코드
     , (SELECT BUYER_NAME FROM BUYER WHERE BUYER_ID = A.PROD_BUYER) 거래처명
FROM   PROD A;

---- 회원ID(CART_MEMBER), 회원명, 주문번호(CART_NO),
--   상품코드(CART_PROD), 수량(CART_QTY)
--   단, 서브쿼리 이용
SELECT A.CART_MEMBER 회원ID
     , (SELECT MEM_NAME FROM MEMBER WHERE MEM_ID = A.CART_MEMBER) 회원명
     , A.CART_NO 주문번호
     , A.CART_PROD 상품코드
     , A.CART_QTY 수량
FROM   CART A;

--SCALAR 서브쿼리1
-- 입고일자(BUY_DATE), 상품코드(BUY_PROD)
--,상품명, 매입수량(BUY_QTY), 매입단가(BUY_COST)
-- 단, 서브쿼리 이용

SELECT BUY_DATE 입고일자
     , BUY_PROD 상품코드
     , (SELECT PROD_NAME FROM PROD WHERE PROD_ID = BUY_PROD) 상품명
     , BUY_QTY 매입수량
     , BUY_COST 매입단가
FROM   BUYPROD;

--SCALAR 서브쿼리2
-- 거래처코드(BUYER_ID), 거래처명(BUYER_NAME)
--,상품분류코드(BUYER_LGU), 상품분류명
-- 단, 서브쿼리 이용

SELECT BUYER_ID
     , BUYER_NAME
     , BUYER_LGU
     , (SELECT LPROD_NM FROM LPROD WHERE LPROD_GU = BUYER_LGU)
FROM   BUYER
